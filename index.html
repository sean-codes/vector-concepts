<doctype html>
<html>
   <head>
      <link rel="stylesheet" href="style.css">
   </head>
   <body>
      <h2>Experimenting with Vectors</h2>
      <canvas width="500"; height="225"></canvas>
      <script src="resources/scene.js"></script>
      <script src="resources/vector.js"></script>
      <script src="resources/shapes.js"></script>
      <script>
         // Add more experiments here!
         var experiments = [
            { title: 'bounce', src: '/experiments/bounce.js' },
            { title: 'UNIT Circle', src: '/experiments/unitcircle.js' },
            { title: 'Draw a Circle', src: '/experiments/drawCircle.js' },
            { title: 'Rotate Point', src: '/experiments/rotatePoint.js' },
            { title: 'Rotation', src: '/experiments/rotating.js' },
            { title: 'Space Ship', src: '/experiments/ship.js' },
            { title: 'Dot Product', src: '/experiments/dotproduct.js' },
            { title: 'Projection', src: '/experiments/projection.js' },
            { title: 'Axis Aligned', src: '/experiments/AABB.js' },
            { title: 'Separating Axis', src: '/experiments/SAT.js' },
         ]

         // Some interesting manuevering
         document.body.onload = function() {
            for(var experiment of experiments){
               // This is seriously awful :]
               var path = window.location.href.replace(location.hash, '')
               var scriptSrc = path.replace('/index.html', '') + experiment.src
               var a = document.createElement('a')
               a.href = '#'
               a.dataset.path = path
               a.dataset.src = scriptSrc
               if(window.location.hash.includes(experiment.src)){
                  a.classList.add('active')
               }
               a.innerHTML = experiment.title
               a.addEventListener('click', function(e){
                  e.preventDefault()
                  window.location.href = this.dataset.path + '#' + this.dataset.src
                  window.location.reload()
               })
               document.body.appendChild(a)
            }

            if(location.hash.length > 0){
               var script = document.createElement('script')
               script.src = location.hash.replace('#', '')
               document.body.appendChild(script)
            }
         }
      </script>
   </body>
</html>
